{"remainingRequest":"/home/mario/mywork/AppWeb/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mario/mywork/AppWeb/src/pages/ProcessoJudicial/VenderItemLoteForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mario/mywork/AppWeb/src/pages/ProcessoJudicial/VenderItemLoteForm.vue","mtime":1716342711905},{"path":"/home/mario/mywork/AppWeb/node_modules/cache-loader/dist/cjs.js","mtime":1685830798716},{"path":"/home/mario/mywork/AppWeb/node_modules/babel-loader/lib/index.js","mtime":1685830799028},{"path":"/home/mario/mywork/AppWeb/node_modules/cache-loader/dist/cjs.js","mtime":1685830798716},{"path":"/home/mario/mywork/AppWeb/node_modules/vue-loader/lib/index.js","mtime":1685830799116}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IHsgdmFsaWRhdGlvbk1peGluIH0gZnJvbSAndnVlbGlkYXRlJzsKCmltcG9ydCB7CiAgICByZXF1aXJlZCwgICAKICAgIG1pbkxlbmd0aAogICAKICB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CgpleHBvcnQgZGVmYXVsdCB7CgogIG5hbWU6ICJlZGl0LXByb2ZpbGUtZm9ybSIsCiAgbWl4aW5zOiBbdmFsaWRhdGlvbk1peGluXSwKICBwcm9wczogewogICAgZGF0YUJhY2tncm91bmRDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgfSwKICAgIHRhYmxlSGVhZGVyQ29sb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKCiAgICAgIGxvdGU6ewoKICAgICAgaWQ6IG51bGwsCiAgICAgIG51bWVyb0xvdGU6IG51bGwsCiAgICAgIHRpcG9WZXN0dWFyaW86IG51bGwsCiAgICAgIHF1YW50aWRhZGVGYWJyaWNhZGFMb3RlOiBudWxsLAogICAgICBxdWFudGlkYWRlVmVuZGlkYUxvdGU6IG51bGwsCiAgICAgIGVzdG9xdWU6IG51bGwsCiAgICAgIHN0YXR1czpudWxsLAogICAgICB0YW1hbmhvOiBudWxsLAogICAgICBjYXJhY3RlcmlzdGljYXNEZXNpZ246IG51bGwsCiAgICAgIG9yZ2FuaXphY2FvUG9zc2VBdHVhbDogbnVsbCwKICAgICAgb3BlcmFkb3I6IG51bGwKCiAgICAgIH0sCiAgICAgIGVzdG9xdWVSZWNlYmlkbzpudWxsLAoKICAgICAgbG90ZXM6IFtdLAoKICAgICAgdHlwZTogWyIiLCAiaW5mbyIsICJzdWNjZXNzIiwgIndhcm5pbmciLCAiZGFuZ2VyIl0sCiAgICAgIG5vdGlmaWNhdGlvbnM6IHsKICAgICAgICB0b3BDZW50ZXI6IGZhbHNlCiAgICAgIH0sCiAgICAgICAgIAogICAgfTsKICB9LAoKICB2YWxpZGF0aW9uczogewogICAgICBsb3RlOiB7CiAgICAgICAgIGlkOiB7CiAgICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMykKICAgICAgICB9LCAgICAKCiAgICAgIH0KICAgICAgfSwKCgogbWV0aG9kczp7CgogICBnZXRWYWxpZGF0aW9uQ2xhc3MgKGZpZWxkTmFtZSkgewogICAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy4kdi5sb3RlW2ZpZWxkTmFtZV0KCiAgICAgICAgaWYgKGZpZWxkKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAnbWQtaW52YWxpZCc6IGZpZWxkLiRpbnZhbGlkICYmIGZpZWxkLiRkaXJ0eQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgICAgYXN5bmMgUGVzcXVpc2FyTG90ZSgpewoKICAgICAgICAgICAgdGhpcy4kdi4kdG91Y2goKTsKCiAgICAgICAgICAgIGlmICghdGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgIAogICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODMvYXBpL1Blc3F1aXNhckxvdGVQb3JOdW1lcm8vJyt0aGlzLmxvdGUuaWQpICA7IAogICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIGNvbnN0IHJldG9ybm8gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICB2YXIgY29udmVydCA9IEpTT04ucGFyc2UocmV0b3Juby5yZXNwb25zZSk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb252ZXJ0KTsKCiAgICAgICAgICAgICAgICAgIHRoaXMubG90ZS5udW1lcm9Mb3RlID0gY29udmVydC5OdW1lcm9Mb3RlOwogICAgICAgICAgICAgICAgICB0aGlzLmxvdGUudGlwb1Zlc3R1YXJpbyA9IGNvbnZlcnQuVGlwb1Zlc3R1YXJpbzsKICAgICAgICAgICAgICAgICAgdGhpcy5sb3RlLnF1YW50aWRhZGVGYWJyaWNhZGFMb3RlID0gY29udmVydC5RdWFudGlkYWRlRmFicmljYWRhTG90ZTsKICAgICAgICAgICAgICAgICAgdGhpcy5sb3RlLmVzdG9xdWUgPSBjb252ZXJ0LkVzdG9xdWU7CiAgICAgICAgICAgICAgICAgIHRoaXMubG90ZS5zdGF0dXMgPSBjb252ZXJ0LlN0YXR1czsKICAgICAgICAgICAgICAgICAgdGhpcy5lc3RvcXVlUmVjZWJpZG8gPSBjb252ZXJ0LkVzdG9xdWU7CiAgICAgICAgICAgICAgICAgIHRoaXMubG90ZS50YW1hbmhvID0gY29udmVydC5UYW1hbmhvOwogICAgICAgICAgICAgICAgICB0aGlzLmxvdGUuY2FyYWN0ZXJpc3RpY2FzRGVzaWduID0gY29udmVydC5DYXJhY3RlcmlzdGljYXNEZXNpZ247CiAgICAgICAgICAgICAgICAgIHRoaXMubG90ZS5vcmdhbml6YWNhb1Bvc3NlQXR1YWwgPSBjb252ZXJ0Lk9yZ2FuaXphY2FvUG9zc2VBdHVhbDsKICAgICAgICAgICAgICAgICAgdGhpcy5sb3RlLm9wZXJhZG9yID0gY29udmVydC5PcGVyYWRvcjsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIHRoaXMubG90ZXNbMF0gPSB0aGlzLmxvdGU7ICAgICAgICAgICAKICAgICAgICAgICAgICAKICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgCiAgICAgICAgfSwKCiAgICAgICBhc3luYyBDb25maXJtYXJWZW5kYUl0ZW1Mb3RlKCl7CgoKICAgICAgICAgIGlmICghdGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgICAgCiAgICAgICAgICBpZih0aGlzLmxvdGUuZXN0b3F1ZSA+PSB0aGlzLmxvdGVxdWFudGlkYWRlVmVuZGlkYUxvdGUpCiAgICAgICAgICAgICAgdGhpcy5sb3RlLlJlY29yZC5lc3RvcXVlID0gIGVzdG9xdWVSZWNlYmlkbyAtIHRoaXMubG90ZS5xdWFudGlkYWRlVmVuZGlkYUxvdGU7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgdGhpcy5lcnJvU2FsdmFyTm90aWZ5KCd0b3AnLCAnY2VudGVyJyk7CgogICAgICAgICAgICBhd2FpdCB0aGlzLiRodHRwLnB1dCgnaHR0cDovL2xvY2FsaG9zdDo4MDgzL2FwaS9Db25maXJtYXJWZW5kYUxvdGUvJyx0aGlzLmxvdGUpICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYWx2b1N1Y2Vzc29Ob3RpZnkoJ3RvcCcsICdjZW50ZXInKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvU2FsdmFyTm90aWZ5KCd0b3AnLCAnY2VudGVyJyk7CiAgICAgICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAKICAgIHNhbHZvU3VjZXNzb05vdGlmeSh2ZXJ0aWNhbEFsaWduLCBob3Jpem9udGFsQWxpZ24pIHsKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICBtZXNzYWdlOgogICAgICAgICAgIkxvdGUgYmxvcXVlYWRvIGNvbSBzdWNlc3NvIG5hIGJsb2NrY2hhaW4uIiwKICAgICAgICBpY29uOiAiYWRkX2FsZXJ0IiwKICAgICAgICBob3Jpem9udGFsQWxpZ246IGhvcml6b250YWxBbGlnbiwKICAgICAgICB2ZXJ0aWNhbEFsaWduOiB2ZXJ0aWNhbEFsaWduLAogICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICB9KTsKICAgIH0sCgogICAgZXJyb1NhbHZhck5vdGlmeSh2ZXJ0aWNhbEFsaWduLCBob3Jpem9udGFsQWxpZ24pIHsKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICBtZXNzYWdlOgogICAgICAgICAgIkFURU7Dh8ODTzogRXJybyBuYSB2ZW5kYSBkbyhzKSBpdGVuKHMpIG5hIEJsb2NrY2hhaW4sIHZlcmlmaXF1ZSBzZSBvIGVzdG9xdWUgw6kgc3VmaWNpZW50ZSBwYXJhIGEgZXN0YSB2ZW5kYS4iLAogICAgICAgIGljb246ICJhZGRfYWxlcnQiLAogICAgICAgIGhvcml6b250YWxBbGlnbjogaG9yaXpvbnRhbEFsaWduLAogICAgICAgIHZlcnRpY2FsQWxpZ246IHZlcnRpY2FsQWxpZ24sCiAgICAgICAgdHlwZTogImRhbmdlciIKICAgICAgfSk7CiAgICB9LAogICAgICAgICAgIAogICAgfSwgCgp9Owo="},{"version":3,"sources":["VenderItemLoteForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"VenderItemLoteForm.vue","sourceRoot":"src/pages/ProcessoJudicial","sourcesContent":["<template>\n    <form> \n      <md-card>\n        <md-card-header :data-background-color=\"dataBackgroundColor\">\n          <h4 class=\"title\">NerdStore</h4>\n          <p class=\"category\">Vender Item Lote</p>\n        </md-card-header>\n  \n        <md-card-content>\n          <div class=\"md-layout\">\n  \n            <div class=\"md-layout-item md-small-size-100 md-size-33\">\n              <md-field :class=\"getValidationClass('id')\">\n                <label>Id do Lote</label>\n                <md-input v-model=\"lote.id\" id=\"id\" type=\"text\"></md-input>\n                <span class=\"md-error\" v-if=\"!$v.lote.id.required\">Informe o id do lote para realizar a pesquisa</span>\n              </md-field>\n            </div>\n  \n             <div class=\"md-layout-item md-size-100 text-right\">\n              <md-button class=\"md-raised md-success\" type =\"submit\" @click.prevent=\"PesquisarLote\"\n                >Pesquisar Lote</md-button>\n            </div>\n           \n            <div class=\"md-layout-item md-small-size-100 md-size-33\">\n              <md-field>\n                <label>Tipo Vestuario</label>\n                <md-input v-model=\"lote.tipoVestuario\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n            <div class=\"md-layout-item md-small-size-100 md-size-50\">\n              <md-field>\n                <label>Número Lote</label>\n                <md-input v-model=\"lote.numeroLote\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n            <div class=\"md-layout-item md-small-size-100 md-size-50\">\n              <md-field>\n                <label>Tamanho</label>\n                <md-input v-model=\"lote.tamanho\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n  \n            <div class=\"md-layout-item md-small-size-100 md-size-100\">\n              <md-field>\n                <label>Caracteristicas Design</label>\n                <md-input v-model=\"lote.caracteristicasDesign\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n  \n            <div class=\"md-layout-item md-small-size-100 md-size-100\">\n              <md-field>\n                <label>Quantidade Fabricada</label>\n                <md-input v-model=\"lote.quantidadeFabricadaLote\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n  \n            <div class=\"md-layout-item md-small-size-100 md-size-100\">\n              <md-field>\n                <label>Organização Atual</label>\n                <md-input v-model=\"lote.organizacaoPosseAtual\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n\n            <div class=\"md-layout-item md-small-size-100 md-size-100\">\n              <md-field>\n                <label>Status</label>\n                <md-input v-model=\"lote.status\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n\n            <div class=\"md-layout-item md-small-size-100 md-size-100\">\n              <md-field>\n                <label>Estoque</label>\n                <md-input v-model=\"lote.estoque\" type=\"text\" disabled></md-input>\n              </md-field>\n            </div>\n  \n            <div class=\"md-layout-item md-small-size-100 md-size-100\">\n              <md-field>\n                <label>Informe a Quantidade de Itens Para esta Venda:</label>\n                <md-input v-model=\"lote.quantidadeVendidaLote\" type=\"text\"></md-input>\n              </md-field>\n            </div>\n\n            <div class=\"md-layout-item md-small-size-100 md-size-100\">\n              <md-field>\n                <label>Operador</label>\n                 <md-input v-model=\"lote.operador\" type=\"text\"></md-input>\n              </md-field>\n            </div>\n  \n            <div class=\"md-layout-item md-size-100 text-right\">\n              <md-button class=\"md-raised md-success\" type =\"submit\" @click.prevent=\"ConfirmarVendaItemLote\" \n                >Confirmar Venda</md-button\n              >\n            </div>\n           \n          </div>\n        </md-card-content>\n      </md-card>\n    </form>\n  \n  </template>\n  \n  <script>\n  \n  \n  import { validationMixin } from 'vuelidate';\n  \n  import {\n      required,   \n      minLength\n     \n    } from \"vuelidate/lib/validators\";\n  \n  export default {\n  \n    name: \"edit-profile-form\",\n    mixins: [validationMixin],\n    props: {\n      dataBackgroundColor: {\n        type: String,\n        default: \"\",\n      },\n      tableHeaderColor: {\n        type: String,\n        default: \"\"\n      },\n    },\n  \n    data() {\n      return {\n  \n        lote:{\n  \n        id: null,\n        numeroLote: null,\n        tipoVestuario: null,\n        quantidadeFabricadaLote: null,\n        quantidadeVendidaLote: null,\n        estoque: null,\n        status:null,\n        tamanho: null,\n        caracteristicasDesign: null,\n        organizacaoPosseAtual: null,\n        operador: null\n  \n        },\n        estoqueRecebido:null,\n  \n        lotes: [],\n  \n        type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n        notifications: {\n          topCenter: false\n        },\n           \n      };\n    },\n  \n    validations: {\n        lote: {\n           id: {\n             required,\n             minLength: minLength(3)\n          },    \n  \n        }\n        },\n  \n  \n   methods:{\n  \n     getValidationClass (fieldName) {\n          const field = this.$v.lote[fieldName]\n  \n          if (field) {\n            return {\n              'md-invalid': field.$invalid && field.$dirty\n            }\n          }\n        },\n           async PesquisarLote(){\n  \n              this.$v.$touch();\n  \n              if (!this.$v.$invalid) {\n                     \n                try {\n               \n                 const response = await this.$http.get('http://localhost:8083/api/PesquisarLotePorNumero/'+this.lote.id)  ; \n                \n                   console.log(response.data);\n                   \n                   const retorno = response.data;\n  \n                   var convert = JSON.parse(retorno.response);\n  \n                    console.log(convert);\n  \n                    this.lote.numeroLote = convert.NumeroLote;\n                    this.lote.tipoVestuario = convert.TipoVestuario;\n                    this.lote.quantidadeFabricadaLote = convert.QuantidadeFabricadaLote;\n                    this.lote.estoque = convert.Estoque;\n                    this.lote.status = convert.Status;\n                    this.estoqueRecebido = convert.Estoque;\n                    this.lote.tamanho = convert.Tamanho;\n                    this.lote.caracteristicasDesign = convert.CaracteristicasDesign;\n                    this.lote.organizacaoPosseAtual = convert.OrganizacaoPosseAtual;\n                    this.lote.operador = convert.Operador;\n                    \n                    this.lotes[0] = this.lote;           \n                \n             } catch(e) {\n                console.error(e);\n            }\n              }\n                   \n          },\n  \n         async ConfirmarVendaItemLote(){\n  \n  \n            if (!this.$v.$invalid) {\n            \n            if(this.lote.estoque >= this.lotequantidadeVendidaLote)\n                this.lote.Record.estoque =  estoqueRecebido - this.lote.quantidadeVendidaLote;\n            else\n                this.erroSalvarNotify('top', 'center');\n\n              await this.$http.put('http://localhost:8083/api/ConfirmarVendaLote/',this.lote)    \n                  \n                    .then(() => {\n                       this.salvoSucessoNotify('top', 'center');\n                  })\n                  \n                    .catch(() => {\n                       this.erroSalvarNotify('top', 'center');\n                   }).finally(() => {\n                   });\n              }\n          },\n  \n       \n      salvoSucessoNotify(verticalAlign, horizontalAlign) {\n        this.$notify({\n          message:\n            \"Lote bloqueado com sucesso na blockchain.\",\n          icon: \"add_alert\",\n          horizontalAlign: horizontalAlign,\n          verticalAlign: verticalAlign,\n          type: \"success\"\n        });\n      },\n  \n      erroSalvarNotify(verticalAlign, horizontalAlign) {\n        this.$notify({\n          message:\n            \"ATENÇÃO: Erro na venda do(s) iten(s) na Blockchain, verifique se o estoque é suficiente para a esta venda.\",\n          icon: \"add_alert\",\n          horizontalAlign: horizontalAlign,\n          verticalAlign: verticalAlign,\n          type: \"danger\"\n        });\n      },\n             \n      }, \n  \n  };\n  </script>\n  <style></style>\n  "]}]}